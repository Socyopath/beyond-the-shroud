
# Colony
bts_labyrinth_of_abstraction_core_1 = {
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0
	category = government

	potential = {
		is_planet_class = pc_bts_labyrinth_of_abstraction
	}
	upgrades = {
		bts_labyrinth_of_abstraction_core_2
	}

	planet_modifier = {
		planet_housing_add = @bts_labyrinth_of_abstraction_core_1_job
		job_bts_conceptual_architect_add = @bts_labyrinth_of_abstraction_core_1_job
	}
	resources = {
		category = planet_buildings
		upkeep = {
			energy = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
		}
		planet_max_buildings_add = -1
		mult = owner.modifier:planet_max_buildings_add
	}

	# inline_script = {
	# 	script = buildings/on_all_capital_buildings
	# }
}

# Planetary Administration
bts_labyrinth_of_abstraction_core_2 = {
	base_buildtime = @b2_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0
	category = government

	destroy_trigger = {
		count_owned_pop = { limit = { has_job = bts_conceptual_architect } count < @bts_labyrinth_of_abstraction_core_1_job }
	}

	convert_to = {
		bts_labyrinth_of_abstraction_core_1
	}

	potential = {
		is_planet_class = pc_bts_labyrinth_of_abstraction
	}
	allow = {
		count_owned_pop = { limit = { has_job = bts_conceptual_architect } count >= @bts_labyrinth_of_abstraction_core_1_job }
	}
	upgrades = {
		bts_labyrinth_of_abstraction_core_3
	}

	planet_modifier = {
		planet_housing_add = @bts_labyrinth_of_abstraction_core_2_job
		job_bts_conceptual_architect_add = @bts_labyrinth_of_abstraction_core_2_job
	}
	resources = {
		category = planet_buildings
		upkeep = {
			energy = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
		}
		planet_max_buildings_add = -1
		mult = owner.modifier:planet_max_buildings_add
	}

	# inline_script = {
	# 	script = buildings/on_all_capital_buildings
	# }

	# prerequisites = {
	# 	"tech_planetary_government"
	# }

	# show_tech_unlock_if = {
	# 	is_regular_empire = yes
	# }
}

bts_labyrinth_of_abstraction_core_3 = {
	base_buildtime = @b3_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0
	category = government

	destroy_trigger = {
		count_owned_pop = { limit = { has_job = bts_conceptual_architect } count < @bts_labyrinth_of_abstraction_core_2_job }
	}

	convert_to = {
		bts_labyrinth_of_abstraction_core_2
	}

	potential = {
		is_planet_class = pc_bts_labyrinth_of_abstraction
	}
	allow = {
		count_owned_pop = { limit = { has_job = bts_conceptual_architect } count >= @bts_labyrinth_of_abstraction_core_2_job }
	}
	upgrades = {
		bts_labyrinth_of_abstraction_core_4
	}

	planet_modifier = {
		planet_housing_add = @bts_labyrinth_of_abstraction_core_3_job
		job_bts_conceptual_architect_add = @bts_labyrinth_of_abstraction_core_3_job
	}
	resources = {
		category = planet_buildings
		upkeep = {
			energy = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
		}
		planet_max_buildings_add = -1
		mult = owner.modifier:planet_max_buildings_add
	}

	# inline_script = {
	# 	script = buildings/on_all_capital_buildings
	# }

	# prerequisites = {
	# 	"tech_planetary_government"
	# }

	# show_tech_unlock_if = {
	# 	is_regular_empire = yes
	# }
}

bts_labyrinth_of_abstraction_core_4 = {
	base_buildtime = @b3_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	position_priority = 0
	category = government

	destroy_trigger = {
		count_owned_pop = { limit = { has_job = bts_conceptual_architect } count < @bts_labyrinth_of_abstraction_core_3_job }
	}

	convert_to = {
		bts_labyrinth_of_abstraction_core_3
	}


	potential = {
		is_planet_class = pc_bts_labyrinth_of_abstraction
	}
	allow = {
		count_owned_pop = { limit = { has_job = bts_conceptual_architect } count >= @bts_labyrinth_of_abstraction_core_3_job }
	}

	planet_modifier = {
		planet_housing_add = @bts_labyrinth_of_abstraction_core_4_job
		job_bts_conceptual_architect_add = @bts_labyrinth_of_abstraction_core_4_job
	}
	resources = {
		category = planet_buildings
		upkeep = {
			energy = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
		}
		planet_max_buildings_add = -1
		mult = owner.modifier:planet_max_buildings_add
	}

	# inline_script = {
	# 	script = buildings/on_all_capital_buildings
	# }

	# prerequisites = {
	# 	"tech_planetary_government"
	# }

	# show_tech_unlock_if = {
	# 	is_regular_empire = yes
	# }
}